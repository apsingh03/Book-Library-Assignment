<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Bootstrap demo</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN"
      crossorigin="anonymous"
    />
  </head>
  <body>
    <div class="container mt-3">
      <h1>Book Library</h1>

      <div class="row mt-3">
        <div class="mb-3 d-flex flex-row">
          <div class="col-4">
            <input
              type="text"
              class="form-control rounded-0"
              id="bookTitle"
              placeholder="Book Title"
              required
            />
          </div>

          <div class="col-4">
            <input
              type="text"
              class="form-control rounded-0"
              id="authorName"
              placeholder="Author"
              required
            />
          </div>

          <div class="col-4">
            <div class="d-flex flex-row">
              <div>
                <input
                  type="number"
                  class="form-control rounded-0"
                  id="publicationYear"
                  placeholder="Publication Year"
                  required
                />
              </div>
              <div>
                <button
                  id="addBookBtn"
                  class="btn btn-primary btn-md rounded-0"
                >
                  Add Book
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div id="bookListContainer">
        <!-- <div class="border py-2 px-2 " >
            <div class="row" >

                <div class="col-4 " ><b>Title</b></div>
                <div class="col-4 d-flex flex-row justify-content-center " > 
                <p>By: Author Name</p> ,
                <p>Year: 2023</p>    
                </div>
                <div class="col-4 text-end " >
                    <button id="removeBookItemBtn" class="btn btn-danger btn-md" >Remove</button>
                </div>

            </div>
           

        </div> -->
      </div>
    </div>

    <script>
      const bookTitle = document.querySelector("#bookTitle");
      const authorName = document.querySelector("#authorName");
      const publicationYear = document.querySelector("#publicationYear");
      const addBookBtn = document.querySelector("#addBookBtn");

      // console.log(bookTitle)
      // console.log(authorName)
      // console.log(publicationYear)
      // console.log(addBookBtn)

      //   Add books event handler
      addBookBtn.addEventListener("click", function () {
        if (
          bookTitle.value === "" ||
          authorName.value === "" ||
          publicationYear.value === ""
        ) {
          alert("Please enter valid book details.");
        } else {
          console.log("clicked");
          console.log(bookTitle.value);

          const bookListContainer =
            document.querySelector("#bookListContainer");
          const createBookListdivElement = document.createElement("div");
          createBookListdivElement.setAttribute(
            "class",
            "row border py-2 px-2"
          );

          createBookListdivElement.innerHTML = `<div class="row" >

                <div class="col-4 " ><b>${bookTitle.value}</b></div>
                <div class="col-4 d-flex flex-row justify-content-center " > 
                <p>By: ${authorName.value}</p> ,
                <p>Year: ${publicationYear.value}</p>    
                </div>
                <div class="col-4 text-end " >
                    <button id="removeBookItemBtn" class="btn btn-danger btn-md" >Remove</button>
                </div>

                </div>
            
            `;

          bookListContainer.appendChild(createBookListdivElement);
        }
      });

      //   remove book event handler
      const removeBookItemBtn = document.querySelector("#removeBookItemBtn");
      document.addEventListener("click", function (e) {
        const removeBookBtn = e.target.closest("#removeBookItemBtn");

        if (removeBookBtn) {
          // console.log( "sddas" ,   e.target.parentNode.parentNode.parentNode )
          const targetElement = e.target.parentNode.parentNode.parentNode;
          bookListContainer.removeChild(targetElement);
        }
      });
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
